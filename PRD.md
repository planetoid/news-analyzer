# 產品需求文件 (PRD)
# 🥤 NewsAnalyzer - 新聞手搖飲分析器

**文件版本**: 1.0  
**最後更新**: 2025年8月5日  
**產品經理**: GitHub Copilot  
**開發團隊**: planetoid  

---

## 📋 目錄

1. [產品概述](#產品概述)
2. [市場需求](#市場需求)
3. [產品目標](#產品目標)
4. [目標用戶](#目標用戶)
5. [功能需求](#功能需求)
6. [技術需求](#技術需求)
7. [用戶體驗設計](#用戶體驗設計)
8. [性能指標](#性能指標)
9. [開發優先級](#開發優先級)
10. [風險評估](#風險評估)

---

## 📖 產品概述

### 產品簡介
NewsAnalyzer 是一個創新的新聞分析工具，使用 AI 技術將複雜的新聞內容轉化為直觀的手搖飲料評級系統，讓使用者能夠快速理解新聞的真實度、重要性和影響力。

### 產品願景
成為最有趣且實用的新聞真實性評估工具，透過創新的視覺化方式，幫助用戶在資訊爆炸的時代中快速識別可信新聞。

### 產品定位
- **主要定位**: AI 驅動的新聞分析與可視化工具
- **次要定位**: 媒體素養教育輔助工具
- **差異化優勢**: 獨特的手搖飲料分類系統，寓教於樂

---

## 🎯 市場需求

### 市場痛點
1. **假新聞氾濫**: 用戶難以判斷新聞真實性
2. **資訊過載**: 每日大量新聞難以篩選重要內容
3. **分析複雜**: 一般用戶缺乏專業的新聞分析能力
4. **工具枯燥**: 現有事實查核工具缺乏趣味性

### 市場機會
- 媒體素養意識提升
- AI 技術成熟度增加
- 用戶對可信資訊需求增長
- 視覺化工具市場擴大

---

## 🎪 產品目標

### 商業目標
- **短期 (3個月)**: 完成 MVP 版本，獲得 1000+ 用戶使用
- **中期 (6個月)**: 用戶量達到 10,000+，建立用戶社群
- **長期 (12個月)**: 成為知名的新聞分析工具，考慮商業化模式

### 產品目標
- 提供準確的新聞真實度分析 (準確率 >85%)
- 支援主流新聞網站內容抓取 (成功率 >90%)
- 實現秒級分析響應時間 (<5秒)
- 建立豐富的實體識別資料庫

---

## 👥 目標用戶

### 主要用戶群體

#### 1. 媒體工作者
- **特徵**: 記者、編輯、自媒體創作者
- **需求**: 快速驗證新聞真實性，輔助報導寫作
- **使用場景**: 新聞查證、選題評估

#### 2. 一般閱聽眾
- **特徵**: 關注時事的普通民眾
- **需求**: 判斷新聞可信度，避免被假新聞誤導
- **使用場景**: 日常新聞閱讀、社群分享前查證

#### 3. 教育工作者
- **特徵**: 老師、媒體素養講師
- **需求**: 教學輔助工具，培養學生批判思維
- **使用場景**: 課堂教學、媒體素養培訓

#### 4. 研究人員
- **特徵**: 學者、智庫研究員
- **需求**: 新聞資料分析，學術研究支援
- **使用場景**: 輿情分析、社會研究

---

## 🛠 功能需求

### 核心功能 (Must Have)

#### 1. 新聞內容輸入
- **功能描述**: 支援網址輸入和手動文字輸入兩種方式
- **技術實現**: 
  - 網址抓取：使用 Playwright 自動抓取網頁內容
  - 文字輸入：直接貼上新聞文字內容
- **驗收標準**: 
  - 支援 95% 主流新聞網站
  - 文字輸入無字數限制

#### 2. AI 新聞分析
- **功能描述**: 使用 Claude API 進行多維度新聞分析
- **分析維度**:
  - 真實度評分 (0-100)
  - 重要性評分 (0-100)  
  - 影響力評分 (0-100)
- **輸出內容**:
  - 新聞摘要 (100-150字)
  - 目標讀者群體識別
  - 飲料推薦與理由

#### 3. 飲料分類系統
- **分類邏輯**:
  - 🟡 **金桔檸檬**: 真實度>70 且 重要性>70
  - 🟢 **蜂蜜綠茶**: 真實度>70 但 重要性≤70
  - ⚪ **無糖白開水**: 真實度≤70 且 重要性≤70
  - 🔴 **過期奶茶**: 真實度≤70 但 重要性>70
- **視覺設計**: 漸層色卡、圖標設計

#### 4. 實體識別與連結
- **人物識別**: 提取姓名、職位，連結維基百科
- **地點識別**: 提取地名，連結 OpenStreetMap
- **數據識別**: 提取關鍵數字，提供背景說明
- **機構識別**: 提取組織名稱，連結官方網站
- **時間識別**: 提取重要日期和事件
- **資料集識別**: 自動推薦相關政府公開資料集 (data.gov.tw)

### 進階功能 (Should Have)

#### 5. 模型選擇
- **功能描述**: 允許用戶選擇不同的 Claude 模型
- **支援模型**: 
  - claude-sonnet-4-20250514 (預設，最新模型)
  - claude-3-5-sonnet-20241022 (高性能平衡)
  - claude-3-opus-20240229 (最高質量)
- **實現狀態**: ✅ 已完成

#### 6. 結果可視化
- **評分圖表**: 三維評分卡片展示
- **實體標籤**: 可點擊的互動式標籤，包含六大類別
- **分類卡片**: 飲料推薦的視覺化呈現
- **外部整合**: 自動連結至相關外部資源
- **實現狀態**: ✅ 已完成

### 未來功能 (Could Have)

#### 7. 歷史記錄
- 儲存分析歷史
- 結果比較功能
- 導出分析報告

#### 8. 批次分析
- 多篇新聞同時分析
- 趨勢分析報告
- CSV 格式輸出

#### 9. 用戶系統
- 帳號註冊登入
- 個人化設定
- 分析結果分享

---

## 💻 技術需求

### 系統架構
```
前端界面 (Streamlit)
    ↓
業務邏輯層 (Python)
    ↓
外部服務整合
├── Claude API (新聞分析)
├── Playwright (網頁抓取)
├── OpenStreetMap (地圖服務)
├── Wikipedia (百科連結)
└── data.gov.tw (公開資料)
```

### 技術規格

#### 後端技術
- **主框架**: Python 3.8+
- **Web 框架**: Streamlit 1.28+
- **AI 服務**: Anthropic Claude API
- **網頁抓取**: Playwright 1.40+
- **HTTP 請求**: Requests 2.31+

#### 前端技術
- **界面框架**: Streamlit
- **樣式設計**: 自定義 CSS
- **互動元件**: Streamlit Components
- **響應式設計**: 支援桌面與行動裝置

#### 外部整合
- **AI 分析**: Anthropic Claude API
- **地圖服務**: OpenStreetMap Search API
- **百科資料**: Wikipedia Links
- **政府資料**: data.gov.tw 搜尋功能

### 性能要求
- **響應時間**: 新聞分析 <5秒
- **準確率**: 網頁抓取成功率 >90%
- **可用性**: 系統可用性 >99%
- **並發**: 支援 100+ 並發用戶

---

## 🎨 用戶體驗設計

### 界面設計原則
1. **簡潔直觀**: 一鍵式操作，降低學習成本
2. **視覺友善**: 使用暖色調和飲料元素
3. **即時反饋**: 分析過程進度條顯示
4. **響應式**: 適配各種螢幕尺寸

### 用戶流程
```
用戶進入 → 輸入 API Key → 選擇輸入方式 → 
   ↓
貼上新聞 → 點擊分析 → 等待結果 → 查看分析 → 
   ↓
點擊實體標籤 → 查看外部資源 → 分享結果
```

### 核心頁面設計

#### 1. 主界面
- **頂部**: 產品標題與說明
- **左側**: 設定面板 (API Key、模型選擇、分類系統說明)
- **中央**: 輸入區域 (網址/文字分頁)
- **功能特色**: 一鍵式操作體驗

#### 2. 結果頁面
- **飲料推薦卡片**: 顯著位置展示推薦結果
- **評分儀表板**: 三項評分的卡片式呈現
- **實體標籤群組**: 六大類別分類展示
  - 👥 相關人物 (連結維基百科)
  - 🔢 關鍵數據 (背景說明)
  - 📍 相關地點 (連結 OpenStreetMap)
  - 🏢 相關機構 (官方網站連結)
  - 📅 重要時間 (時間線展示)
  - 📊 相關公開資料集 (連結 data.gov.tw)
- **新聞摘要**: 重點內容總結

### 互動設計
- **懸停效果**: 實體標籤 hover 效果
- **點擊反饋**: 按鈕點擊動畫
- **載入動畫**: 分析過程的載入指示器
- **錯誤處理**: 友善的錯誤訊息提示

---

## 📊 性能指標

### 技術指標
| 指標項目 | 目標值 | 測量方法 |
|----------|--------|----------|
| 分析響應時間 | <5秒 | API 回應時間監測 |
| 網頁抓取成功率 | >90% | 失敗次數/總次數 |
| 系統可用性 | >99% | 月度可用時間統計 |
| 並發處理能力 | 100+ | 壓力測試 |

### 業務指標
| 指標項目 | 目標值 | 測量週期 |
|----------|--------|----------|
| 日活躍用戶 | 100+ | 每日 |
| 用戶留存率 | >60% | 月度 |
| 分析準確度滿意度 | >85% | 問卷調查 |
| 功能使用率 | >70% | 每週 |

### 質量指標
- **分析準確度**: 與專業事實查核結果對比
- **用戶滿意度**: 定期用戶調研
- **錯誤率**: 系統錯誤和崩潰次數
- **學習效果**: 用戶媒體素養提升程度
- **測試覆蓋率**: 代碼測試覆蓋率 >90%
- **代碼質量**: 通過所有單元測試和整合測試

---

## 🚀 開發優先級

### Phase 1: MVP (4週)
**目標**: 完成基本功能，可進行新聞分析

#### 高優先級 (P0)
- [x] 基礎 Streamlit 界面
- [x] Claude API 整合
- [x] 網頁內容抓取功能
- [x] 飲料分類邏輯
- [x] 基本實體識別
- [x] 模型選擇功能

#### 中優先級 (P1)
- [x] UI/UX 設計優化
- [x] 錯誤處理機制
- [x] 外部連結整合 (維基百科、OpenStreetMap、data.gov.tw)
- [x] 完整實體識別系統 (人物、地點、數據、機構、時間、資料集)
- [ ] 響應式設計優化

### Phase 2: 增強功能 (6週)
**目標**: 提升用戶體驗和分析準確度

#### 高優先級 (P0)
- [x] 模型選擇功能
- [x] 公開資料集整合
- [x] 實體識別系統完善
- [ ] 分析結果優化
- [ ] 性能優化

#### 中優先級 (P1)
- [ ] 歷史記錄功能
- [ ] 結果分享功能
- [ ] 多語言支援
- [ ] 行動裝置優化

### Phase 3: 進階功能 (8週)
**目標**: 擴展功能範圍，提升產品競爭力

#### 高優先級 (P0)
- [ ] 用戶帳號系統
- [ ] 批次分析功能
- [ ] 數據分析儀表板
- [ ] API 介面開放

#### 低優先級 (P2)
- [ ] 社群功能
- [ ] 插件系統
- [ ] 自定義分析模型
- [ ] 企業版功能

---

## ⚠️ 風險評估

### 技術風險

#### 高風險
1. **API 服務依賴**
   - **風險**: Claude API 服務中斷或限制
   - **影響**: 核心功能無法使用
   - **緩解措施**: 
     - 實施 API 重試機制
     - 考慮多模型支援
     - 建立 fallback 方案

2. **網頁抓取限制**
   - **風險**: 目標網站反爬蟲機制
   - **影響**: 內容抓取失敗率上升
   - **緩解措施**:
     - 實作多重抓取策略
     - 提供手動輸入備選方案
     - 建立網站相容性清單

#### 中風險
3. **模型準確度變化**
   - **風險**: AI 模型更新導致分析結果變化
   - **影響**: 分析一致性和準確度問題
   - **緩解措施**: 
     - 建立模型版本管理
     - 實施 A/B 測試
     - 定期校準分析結果

### 業務風險

#### 中風險
4. **用戶接受度**
   - **風險**: 飲料分類系統過於新奇，用戶難以理解
   - **影響**: 用戶留存率低
   - **緩解措施**:
     - 加強用戶教育和引導
     - 提供傳統評分展示選項
     - 收集用戶反饋持續優化

5. **內容版權問題**
   - **風險**: 新聞內容抓取可能涉及版權問題
   - **影響**: 法律風險和服務中斷
   - **緩解措施**:
     - 僅抓取公開可訪問內容
     - 實施 robots.txt 遵循
     - 建立合作夥伴關係

#### 低風險
6. **競爭威脅**
   - **風險**: 類似產品快速進入市場
   - **影響**: 市場份額被瓜分
   - **緩解措施**:
     - 持續創新和功能迭代
     - 建立用戶黏性
     - 專注差異化優勢

### 風險監控機制
- **每週風險評估會議**
- **關鍵指標實時監控**
- **用戶反饋快速響應**
- **技術債務定期審查**

---

## 📈 成功指標

### 短期目標 (1-3個月)
- [x] 完成 MVP 版本開發
- [x] 實現完整的實體識別系統
- [x] 整合外部資源連結
- [x] 支援多種 Claude 模型選擇
- [ ] 獲得 1,000+ 註冊用戶
- [ ] 日活躍用戶達 100+
- [ ] 分析準確度滿意度 >80%

### 中期目標 (3-6個月)
- [ ] 用戶量突破 10,000
- [ ] 月留存率 >60%
- [ ] 支援 95% 主流新聞網站
- [ ] 建立活躍用戶社群

### 長期目標 (6-12個月)
- [ ] 成為知名新聞分析工具
- [ ] 探索商業化模式
- [ ] 拓展教育市場應用
- [ ] 開放 API 給第三方開發者

---

## 📝 附錄

### A. 技術文檔連結
- [API 文檔](./docs/api_reference.md)
- [部署指南](./docs/deployment.md)
- [開發環境設置](./docs/development.md)

### B. 設計資源
- [UI/UX 設計稿](./assets/designs/)
- [品牌視覺規範](./assets/brand_guidelines.pdf)
- [圖標素材庫](./assets/icons/)

### C. 測試計劃
- [功能測試清單](./tests/test_analyzer.py) - ✅ 已實現
- [UI 測試方案](./tests/test_ui.py) - ✅ 已實現  
- [整合測試](./tests/test_integration.py) - ✅ 已實現
- [測試配置](./tests/test_config.py) - ✅ 已實現
- [測試執行器](./tests/run_tests.py) - ✅ 已實現

---

**文檔維護**: 本 PRD 應隨產品發展持續更新，每個版本發布後進行回顧和修訂。

**審核記錄**:
- v1.0 - 2025/08/05 - 初版建立
- v1.1 - 2025/08/05 - 更新已實現功能狀態
  - ✅ 模型選擇功能
  - ✅ 完整實體識別系統 (六大類別)
  - ✅ 外部資源整合 (維基百科、OpenStreetMap、data.gov.tw)
  - ✅ UI/UX 優化
- 下次審核日期: 2025/08/19
